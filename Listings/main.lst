C251 COMPILER V5.60.0,  main                                                               15/07/25  22:10:01  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C251\BIN\C251.EXE Src\main.c XSMALL BROWSE INCDIR(.\Libraries\libraries;.\Libraries\seek
                    -free_components;.\Libraries\seekfree_libraries;.\Libraries\seekfree_peripheral;.\Inc) DEBUG PRINT(.\Listings\main.lst) T
                    -ABS(2) OBJECT(.\Objects\main.obj) 

stmt  level    source

    1          #include "Libraries/seekfree_peripheral/headfile.h"
    2          #include "main.h"
    3          #include "fan.h"
    4          #include "SEEKFREE_IMU660RA.h"
    5          #include "imu.h"
    6          
    7          #define KEY4_PIN P73
    8          #define BUZZER P67
    9          
   10          uint8 key4_status = 1; // set default button status
   11          uint8 key4_previous_status;
   12          char buf[256];
   13          uint8 count = 0;
   14          
   15          void main() {
   16   1        board_init(); // init board
   17   1      
   18   1        BUZZER = 0;              // set default output for buzzer
   19   1        gpio_mode(P6_7, GPO_PP); // set pin p6.7 as push pull mode for large current (>20mA), note all pin defa
             -ult to be standard gpio
   20   1      
   21   1        // pwm_init(TEST_PWM, 50, 0);
   22   1        // pwm_duty(TEST_PWM, PWM_DUTY_MAX*0.05*2);
   23   1        initial_all_fan();
   24   1        // fan_set_speed(&test_fan, FAN_0_SPEED_PWM);
   25   1      
   26   1        uart_init(UART_2, UART2_RX_P10, UART2_TX_P11, 115200, TIM_2);
   27   1        imu660ra_init();
   28   1        imu660ra_cali();
   29   1        sprintf(buf, "acc_x_err: %.2f, acc_y_err: %.2f, acc_z_err: %.2f, gyro_x_err: %.2f, gyro_y_err: %.2f, gy
             -ro_z_err: %.2f\n",
   30   1                acc_x_err, acc_y_err, acc_z_err, gyro_x_err, gyro_y_err, gyro_z_err);
   31   1        uart_putbuff(UART_2, buf, strlen(buf));
   32   1      
   33   1        while (1) {
   34   2          // key4_previous_status = key4_status;
   35   2          // key4_status = KEY4_PIN; // read button
   36   2      
   37   2          // if (key4_previous_status && !key4_status) // capured falling edge
   38   2          // {
   39   2          //   delay_ms(10); // debounce
   40   2          //   key4_status = KEY4_PIN;
   41   2            
   42   2          //   if (!key4_status)
   43   2          //   {
   44   2          //     BUZZER = !BUZZER; // turn on/off the buzzer
   45   2          //   }
   46   2          // }
   47   2          imu660ra_get_data(); // get imu data
   48   2      
   49   2          sprintf(buf, "acc_x: %.2f g, acc_y: %.2f g, acc_z: %.2f g, gyro_x: %.2f °/s, gyro_y: %.2f °/s, gyro
             -_z: %.2f °/s\n",
   50   2              imu_data.x_acc, imu_data.y_acc, imu_data.z_acc, imu_data.x_gyro, imu_data.y_gyro, imu_data.z_gyro
             -);
   51   2          uart_putbuff(UART_2, buf, strlen(buf));
   52   2          delay_ms(1000);
   53   2        }
C251 COMPILER V5.60.0,  main                                                               15/07/25  22:10:01  PAGE 2   

   54   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       246     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =       259     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =       217     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
